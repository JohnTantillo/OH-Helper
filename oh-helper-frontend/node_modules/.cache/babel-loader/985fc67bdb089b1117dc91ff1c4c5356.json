{"ast":null,"code":"import _classCallCheck from\"C:/Users/J_Dun/OneDrive/Documents/GitHub/OH-Helper/oh-helper-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/J_Dun/OneDrive/Documents/GitHub/OH-Helper/oh-helper-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/J_Dun/OneDrive/Documents/GitHub/OH-Helper/oh-helper-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/J_Dun/OneDrive/Documents/GitHub/OH-Helper/oh-helper-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import Button from\"./Button.jsx\";import TATile from\"./TATile.jsx\";import Ticket from\"./Ticket.jsx\";//import {w3cwebsocket as W3CWebSocket} from \"websocket\";\n//const client = new W3CWebSocket('ws://127.0.0.1:8000')\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var StudentView=/*#__PURE__*/function(_React$Component){_inherits(StudentView,_React$Component);var _super=_createSuper(StudentView);function StudentView(props){var _this;_classCallCheck(this,StudentView);_this=_super.call(this,props);_this.componentDidMount=function(){// client.onopen = () => {\n//   console.log('WebSocket client connection');\n// };\n// client.onmessage = (message) => {\n//   console.log(message);\n// }\nfetch(\"/getStudents\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(\"\")}).then(function(response){if(response.ok===false){alert(\"Error: Couldn't connect to server\");return\"\";}else{return response.json();}}).then(function(data){if(data===\"\"){return;}var taList=[];data.map(function(student){if(student.accType===true){taList.push(student);}});_this.setState({activeTAs:taList});});//TODO get the tickets and display them\n};_this.questionOnChanged=function(event){_this.setState({question:event.target.value});};_this.priorityOnChanged=function(event){_this.setState({currentPriority:event.target.value});};_this.submitQuestion=function(){var ticketData={Name:_this.props.name,Issue:_this.state.question,Label:_this.state.priorityLevels[_this.state.currentPriority],Action:\"Add\"};};_this.state={ticket:[],activeTAs:[],student:true,question:\"\",questionMaxLength:100,questionMinLength:20,priorityLevels:{Homework:0,Exam:1,Lab:2,Lecture:3},currentPriority:\"Homework\"};return _this;}_createClass(StudentView,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"studentViewContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"studentQueueContainer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"student headerText\",children:\"Student Queue\"}),/*#__PURE__*/_jsx(\"div\",{className:\"studentQueueWindow\",children:this.state.ticket.map(function(ticket){return/*#__PURE__*/_jsx(Ticket,{name:ticket.name,question:ticket.question,admin:false});})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"rightMasterStudent\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"welcomeStudent\",children:\"Welcome, \"+this.props.name}),/*#__PURE__*/_jsx(\"div\",{className:\"activeTA headerText\",children:\"Active TA's\"}),/*#__PURE__*/_jsx(\"div\",{className:\"activeTAWindow\",children:this.state.activeTAs.map(function(ta){return/*#__PURE__*/_jsx(TATile,{name:ta.name,special:ta.specialties});})}),/*#__PURE__*/_jsxs(\"div\",{className:\"newQuestionContainer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"newQuestionHeader\",children:\"New Question\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"charCount\",children:[\"Min: \",this.state.question.length,\"/\",this.state.questionMinLength,\" \",\"Max: \",this.state.question.length,\"/\",this.state.questionMaxLength]}),/*#__PURE__*/_jsx(\"textarea\",{type:\"text\",className:\"newQuestionInput\",placeholder:\"Write question here...\",maxLength:this.state.questionMaxLength,minLength:this.state.questionMinLength,onChange:this.questionOnChanged}),/*#__PURE__*/_jsxs(\"div\",{className:\"studentButtonContainer\",children:[/*#__PURE__*/_jsx(Button,{active:true,text:\"Post\",buttonType:\"postButton\",onclick:this.submitQuestion}),/*#__PURE__*/_jsx(\"select\",{className:\"priorityDropdown\",onChange:this.priorityOnChanged,children:Object.keys(this.state.priorityLevels).map(function(key){return/*#__PURE__*/_jsx(\"option\",{className:\"priorityOption\",value:key,children:key});})})]})]})]})]});}}]);return StudentView;}(React.Component);export default StudentView;","map":{"version":3,"sources":["C:/Users/J_Dun/OneDrive/Documents/GitHub/OH-Helper/oh-helper-frontend/src/Components/StudentView.jsx"],"names":["React","Button","TATile","Ticket","StudentView","props","componentDidMount","fetch","method","headers","body","JSON","stringify","then","response","ok","alert","json","data","taList","map","student","accType","push","setState","activeTAs","questionOnChanged","event","question","target","value","priorityOnChanged","currentPriority","submitQuestion","ticketData","Name","name","Issue","state","Label","priorityLevels","Action","ticket","questionMaxLength","questionMinLength","Homework","Exam","Lab","Lecture","ta","specialties","length","Object","keys","key","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport Button from \"./Button.jsx\";\r\nimport TATile from \"./TATile.jsx\";\r\nimport Ticket from \"./Ticket.jsx\";\r\n//import {w3cwebsocket as W3CWebSocket} from \"websocket\";\r\n\r\n//const client = new W3CWebSocket('ws://127.0.0.1:8000')\r\n\r\nclass StudentView extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      ticket: [],\r\n      activeTAs: [],\r\n      student: true,\r\n      question: \"\",\r\n      questionMaxLength: 100,\r\n      questionMinLength: 20,\r\n      priorityLevels: {Homework: 0, Exam: 1, Lab: 2, Lecture: 3},\r\n      currentPriority: \"Homework\",\r\n    };\r\n  }\r\n\r\n  componentDidMount = () => {\r\n\r\n    // client.onopen = () => {\r\n    //   console.log('WebSocket client connection');\r\n    // };\r\n    // client.onmessage = (message) => {\r\n    //   console.log(message);\r\n    // }\r\n\r\n    fetch(\"/getStudents\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(\"\"),\r\n    })\r\n      .then((response) => {\r\n        if (response.ok === false) {\r\n          alert(\"Error: Couldn't connect to server\");\r\n          return \"\";\r\n        } else {\r\n          return response.json();\r\n        }\r\n      })\r\n      .then((data) => {\r\n        if (data === \"\") {return}\r\n        var taList = [];\r\n        data.map((student) => {\r\n          if (student.accType === true) {\r\n            taList.push(student);\r\n          }\r\n        });\r\n        \r\n        this.setState({activeTAs:taList});\r\n      });\r\n      //TODO get the tickets and display them\r\n  }\r\n\r\n  questionOnChanged = (event) => {\r\n    this.setState({ question: event.target.value });\r\n  };\r\n\r\n  priorityOnChanged = (event) => {\r\n    this.setState({currentPriority : event.target.value});\r\n  }\r\n\r\n  submitQuestion = () => {\r\n      var ticketData = {Name: this.props.name, Issue: this.state.question, Label: this.state.priorityLevels[this.state.currentPriority], Action: \"Add\"};\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"studentViewContainer\">\r\n        <div className=\"studentQueueContainer\">\r\n          <div className=\"student headerText\">Student Queue</div>\r\n          <div className=\"studentQueueWindow\">\r\n            {this.state.ticket.map((ticket) => {\r\n              return (<Ticket name={ticket.name} question={ticket.question} admin={false}></Ticket>)\r\n            })}\r\n          </div>\r\n        </div>\r\n        <div className=\"rightMasterStudent\">\r\n          <div className=\"welcomeStudent\">{\"Welcome, \" + this.props.name}</div>\r\n          <div className=\"activeTA headerText\">Active TA's</div>\r\n          <div className=\"activeTAWindow\">\r\n            {this.state.activeTAs.map((ta) => {\r\n              return (<TATile name={ta.name} special={ta.specialties}/>)\r\n            })}\r\n          </div>\r\n          <div className=\"newQuestionContainer\">\r\n            <div className=\"newQuestionHeader\">New Question</div>\r\n            <p className=\"charCount\">\r\n              Min: {this.state.question.length}/{this.state.questionMinLength}\r\n              {\" \"}\r\n              Max: {this.state.question.length}/{this.state.questionMaxLength}\r\n            </p>\r\n            <textarea\r\n              type=\"text\"\r\n              className=\"newQuestionInput\"\r\n              placeholder=\"Write question here...\"\r\n              maxLength={this.state.questionMaxLength}\r\n              minLength={this.state.questionMinLength}\r\n              onChange={this.questionOnChanged}\r\n            ></textarea>\r\n            <div className=\"studentButtonContainer\">\r\n                <Button active={true} text=\"Post\" buttonType=\"postButton\" onclick={this.submitQuestion}></Button>\r\n                <select className=\"priorityDropdown\" onChange={this.priorityOnChanged}>\r\n                  {Object.keys(this.state.priorityLevels).map((key) => {\r\n                    return(<option className=\"priorityOption\" value={key}>{key}</option>);\r\n                  })}\r\n                </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default StudentView;\r\n"]},"metadata":{},"sourceType":"module"}
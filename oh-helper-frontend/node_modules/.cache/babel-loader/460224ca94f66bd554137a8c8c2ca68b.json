{"ast":null,"code":"import _classCallCheck from\"C:/Users/J_Dun/OneDrive/Documents/GitHub/OH-Helper/oh-helper-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/J_Dun/OneDrive/Documents/GitHub/OH-Helper/oh-helper-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/J_Dun/OneDrive/Documents/GitHub/OH-Helper/oh-helper-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/J_Dun/OneDrive/Documents/GitHub/OH-Helper/oh-helper-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import Button from\"./Button.jsx\";import TATile from\"./TATile.jsx\";import Ticket from\"./Ticket.jsx\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var socket=new WebSocket('ws://localhost:8000/websocket');socket.addEventListener('open',function(event){console.log(\"CONNECTED\");});socket.addEventListener('message',function(event){console.log(event);});socket.addEventListener('close',function(event){console.log(\"Disconnected\");});var StudentView=/*#__PURE__*/function(_React$Component){_inherits(StudentView,_React$Component);var _super=_createSuper(StudentView);function StudentView(props){var _this;_classCallCheck(this,StudentView);_this=_super.call(this,props);_this.questionOnChanged=function(event){_this.setState({question:event.target.value});};_this.priorityOnChanged=function(event){//this is convuluted but i refuse to make a second static object\nvar grabPriority=Object.keys(_this.state.priorityLevels).filter(function(level){return _this.state.priorityLevels[level]===event.target.value;});_this.setState({currentPriority:grabPriority[0]});};_this.submitQuestion=function(){var ticketData={Name:_this.props.name,Issue:_this.state.question,Label:_this.state.currentPriority,Action:\"Add\"};};_this.state={ticket:[{name:\"John Dunaske\",question:\"This is a question\",priority:0}],activeTAs:[],student:true,question:\"\",questionMaxLength:100,questionMinLength:20,priorityLevels:{0:\"Homework\",1:\"Exam\",2:\"Lab\",3:\"Lecture\"},currentPriority:0};return _this;}_createClass(StudentView,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch(\"/getStudents\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(\"\")}).then(function(response){if(response.ok===false){alert(\"Error: Couldn't connect to server\");return\"\";}else{return response.json();}}).then(function(data){if(data===\"\"){return;}var taList=[];data.map(function(student){if(student.accType===true){taList.push(student);}});_this2.setState({activeTAs:taList});});}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/_jsxs(\"div\",{className:\"studentViewContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"studentQueueContainer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"student headerText\",children:\"Student Queue\"}),/*#__PURE__*/_jsx(\"div\",{className:\"studentQueueWindow\",children:this.state.ticket.map(function(ticket){return/*#__PURE__*/_jsx(Ticket,{name:ticket.name,question:ticket.question,admin:false,priority:ticket.priority,priorityLevels:_this3.state.priorityLevels});})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"rightMasterStudent\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"welcomeStudent\",children:\"Welcome, \"+this.props.name}),/*#__PURE__*/_jsx(\"div\",{className:\"activeTA headerText\",children:\"Active TA's\"}),/*#__PURE__*/_jsx(\"div\",{className:\"activeTAWindow\",children:this.state.activeTAs.map(function(ta){return/*#__PURE__*/_jsx(TATile,{name:ta.name,special:ta.specialties});})}),/*#__PURE__*/_jsxs(\"div\",{className:\"newQuestionContainer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"newQuestionHeader\",children:\"New Question\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"charCount\",children:[\"Min: \",this.state.question.length,\"/\",this.state.questionMinLength,\" \",\"Max: \",this.state.question.length,\"/\",this.state.questionMaxLength]}),/*#__PURE__*/_jsx(\"textarea\",{type:\"text\",className:\"newQuestionInput\",placeholder:\"Write question here...\",maxLength:this.state.questionMaxLength,minLength:this.state.questionMinLength,onChange:this.questionOnChanged}),/*#__PURE__*/_jsxs(\"div\",{className:\"studentButtonContainer\",children:[/*#__PURE__*/_jsx(Button,{active:true,text:\"Post\",buttonType:\"postButton\",onclick:this.submitQuestion}),/*#__PURE__*/_jsx(\"select\",{className:\"priorityDropdown\",onChange:this.priorityOnChanged,children:Object.values(this.state.priorityLevels).map(function(key){return/*#__PURE__*/_jsx(\"option\",{className:\"priorityOption\",value:key,children:key});})})]})]})]})]});}}]);return StudentView;}(React.Component);export default StudentView;","map":{"version":3,"sources":["C:/Users/J_Dun/OneDrive/Documents/GitHub/OH-Helper/oh-helper-frontend/src/Components/StudentView.jsx"],"names":["React","Button","TATile","Ticket","socket","WebSocket","addEventListener","event","console","log","StudentView","props","questionOnChanged","setState","question","target","value","priorityOnChanged","grabPriority","Object","keys","state","priorityLevels","filter","level","currentPriority","submitQuestion","ticketData","Name","name","Issue","Label","Action","ticket","priority","activeTAs","student","questionMaxLength","questionMinLength","fetch","method","headers","body","JSON","stringify","then","response","ok","alert","json","data","taList","map","accType","push","ta","specialties","length","values","key","Component"],"mappings":"guBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,cAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,cAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,cAAnB,C,wFAEA,GAAMC,CAAAA,MAAM,CAAG,GAAIC,CAAAA,SAAJ,CAAc,+BAAd,CAAf,CAEAD,MAAM,CAACE,gBAAP,CAAwB,MAAxB,CAAgC,SAAUC,KAAV,CAAiB,CAC/CC,OAAO,CAACC,GAAR,CAAY,WAAZ,EACD,CAFD,EAIAL,MAAM,CAACE,gBAAP,CAAwB,SAAxB,CAAmC,SAAUC,KAAV,CAAiB,CAClDC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACD,CAFD,EAIAH,MAAM,CAACE,gBAAP,CAAwB,OAAxB,CAAiC,SAAUC,KAAV,CAAiB,CAChDC,OAAO,CAACC,GAAR,CAAY,cAAZ,EACD,CAFD,E,GAIMC,CAAAA,W,sHACJ,qBAAYC,KAAZ,CAAmB,6CACjB,uBAAMA,KAAN,EADiB,MA8CnBC,iBA9CmB,CA8CC,SAACL,KAAD,CAAW,CAC7B,MAAKM,QAAL,CAAc,CAAEC,QAAQ,CAAEP,KAAK,CAACQ,MAAN,CAAaC,KAAzB,CAAd,EACD,CAhDkB,OAkDnBC,iBAlDmB,CAkDC,SAACV,KAAD,CAAW,CAC7B;AACA,GAAIW,CAAAA,YAAY,CAAGC,MAAM,CAACC,IAAP,CAAY,MAAKC,KAAL,CAAWC,cAAvB,EAAuCC,MAAvC,CACjB,SAACC,KAAD,CAAW,CACT,MAAO,OAAKH,KAAL,CAAWC,cAAX,CAA0BE,KAA1B,IAAqCjB,KAAK,CAACQ,MAAN,CAAaC,KAAzD,CACD,CAHgB,CAAnB,CAKA,MAAKH,QAAL,CAAc,CAAEY,eAAe,CAAEP,YAAY,CAAC,CAAD,CAA/B,CAAd,EACD,CA1DkB,OA4DnBQ,cA5DmB,CA4DF,UAAM,CACrB,GAAIC,CAAAA,UAAU,CAAG,CACfC,IAAI,CAAE,MAAKjB,KAAL,CAAWkB,IADF,CAEfC,KAAK,CAAE,MAAKT,KAAL,CAAWP,QAFH,CAGfiB,KAAK,CAAE,MAAKV,KAAL,CAAWI,eAHH,CAIfO,MAAM,CAAE,KAJO,CAAjB,CAMD,CAnEkB,CAEjB,MAAKX,KAAL,CAAa,CACXY,MAAM,CAAE,CACN,CAAEJ,IAAI,CAAE,cAAR,CAAwBf,QAAQ,CAAE,oBAAlC,CAAwDoB,QAAQ,CAAE,CAAlE,CADM,CADG,CAIXC,SAAS,CAAE,EAJA,CAKXC,OAAO,CAAE,IALE,CAMXtB,QAAQ,CAAE,EANC,CAOXuB,iBAAiB,CAAE,GAPR,CAQXC,iBAAiB,CAAE,EARR,CASXhB,cAAc,CAAE,CAAE,EAAG,UAAL,CAAiB,EAAG,MAApB,CAA4B,EAAG,KAA/B,CAAsC,EAAG,SAAzC,CATL,CAUXG,eAAe,CAAE,CAVN,CAAb,CAFiB,aAclB,C,yDAED,4BAAoB,iBAElBc,KAAK,CAAC,cAAD,CAAiB,CACpBC,MAAM,CAAE,MADY,CAEpBC,OAAO,CAAE,CAAE,eAAgB,kBAAlB,CAFW,CAGpBC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,EAAf,CAHc,CAAjB,CAAL,CAKGC,IALH,CAKQ,SAACC,QAAD,CAAc,CAClB,GAAIA,QAAQ,CAACC,EAAT,GAAgB,KAApB,CAA2B,CACzBC,KAAK,CAAC,mCAAD,CAAL,CACA,MAAO,EAAP,CACD,CAHD,IAGO,CACL,MAAOF,CAAAA,QAAQ,CAACG,IAAT,EAAP,CACD,CACF,CAZH,EAaGJ,IAbH,CAaQ,SAACK,IAAD,CAAU,CACd,GAAIA,IAAI,GAAK,EAAb,CAAiB,CACf,OACD,CACD,GAAIC,CAAAA,MAAM,CAAG,EAAb,CACAD,IAAI,CAACE,GAAL,CAAS,SAAChB,OAAD,CAAa,CACpB,GAAIA,OAAO,CAACiB,OAAR,GAAoB,IAAxB,CAA8B,CAC5BF,MAAM,CAACG,IAAP,CAAYlB,OAAZ,EACD,CACF,CAJD,EAMA,MAAI,CAACvB,QAAL,CAAc,CAAEsB,SAAS,CAAEgB,MAAb,CAAd,EACD,CAzBH,EA0BD,C,sBAyBD,iBAAS,iBACP,mBACE,aAAK,SAAS,CAAC,sBAAf,wBACE,aAAK,SAAS,CAAC,uBAAf,wBACE,YAAK,SAAS,CAAC,oBAAf,2BADF,cAEE,YAAK,SAAS,CAAC,oBAAf,UACG,KAAK9B,KAAL,CAAWY,MAAX,CAAkBmB,GAAlB,CAAsB,SAACnB,MAAD,CAAY,CACjC,mBACE,KAAC,MAAD,EACE,IAAI,CAAEA,MAAM,CAACJ,IADf,CAEE,QAAQ,CAAEI,MAAM,CAACnB,QAFnB,CAGE,KAAK,CAAE,KAHT,CAIE,QAAQ,CAAEmB,MAAM,CAACC,QAJnB,CAKE,cAAc,CAAE,MAAI,CAACb,KAAL,CAAWC,cAL7B,EADF,CASD,CAVA,CADH,EAFF,GADF,cAiBE,aAAK,SAAS,CAAC,oBAAf,wBACE,YAAK,SAAS,CAAC,gBAAf,UAAiC,YAAc,KAAKX,KAAL,CAAWkB,IAA1D,EADF,cAEE,YAAK,SAAS,CAAC,qBAAf,yBAFF,cAGE,YAAK,SAAS,CAAC,gBAAf,UACG,KAAKR,KAAL,CAAWc,SAAX,CAAqBiB,GAArB,CAAyB,SAACG,EAAD,CAAQ,CAChC,mBAAO,KAAC,MAAD,EAAQ,IAAI,CAAEA,EAAE,CAAC1B,IAAjB,CAAuB,OAAO,CAAE0B,EAAE,CAACC,WAAnC,EAAP,CACD,CAFA,CADH,EAHF,cAQE,aAAK,SAAS,CAAC,sBAAf,wBACE,YAAK,SAAS,CAAC,mBAAf,0BADF,cAEE,WAAG,SAAS,CAAC,WAAb,mBACQ,KAAKnC,KAAL,CAAWP,QAAX,CAAoB2C,MAD5B,KACqC,KAAKpC,KAAL,CAAWiB,iBADhD,CACmE,GADnE,SAEQ,KAAKjB,KAAL,CAAWP,QAAX,CAAoB2C,MAF5B,KAEqC,KAAKpC,KAAL,CAAWgB,iBAFhD,GAFF,cAME,iBACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,kBAFZ,CAGE,WAAW,CAAC,wBAHd,CAIE,SAAS,CAAE,KAAKhB,KAAL,CAAWgB,iBAJxB,CAKE,SAAS,CAAE,KAAKhB,KAAL,CAAWiB,iBALxB,CAME,QAAQ,CAAE,KAAK1B,iBANjB,EANF,cAcE,aAAK,SAAS,CAAC,wBAAf,wBACE,KAAC,MAAD,EACE,MAAM,CAAE,IADV,CAEE,IAAI,CAAC,MAFP,CAGE,UAAU,CAAC,YAHb,CAIE,OAAO,CAAE,KAAKc,cAJhB,EADF,cAOE,eACE,SAAS,CAAC,kBADZ,CAEE,QAAQ,CAAE,KAAKT,iBAFjB,UAIGE,MAAM,CAACuC,MAAP,CAAc,KAAKrC,KAAL,CAAWC,cAAzB,EAAyC8B,GAAzC,CAA6C,SAACO,GAAD,CAAS,CACrD,mBACE,eAAQ,SAAS,CAAC,gBAAlB,CAAmC,KAAK,CAAEA,GAA1C,UACGA,GADH,EADF,CAKD,CANA,CAJH,EAPF,GAdF,GARF,GAjBF,GADF,CAgED,C,yBAvIuB3D,KAAK,CAAC4D,S,EA0IhC,cAAelD,CAAAA,WAAf","sourcesContent":["import React from \"react\";\r\nimport Button from \"./Button.jsx\";\r\nimport TATile from \"./TATile.jsx\";\r\nimport Ticket from \"./Ticket.jsx\";\r\n\r\nconst socket = new WebSocket('ws://localhost:8000/websocket')\r\n\r\nsocket.addEventListener('open', function (event) {\r\n  console.log(\"CONNECTED\");\r\n});\r\n\r\nsocket.addEventListener('message', function (event) {\r\n  console.log(event);\r\n});\r\n\r\nsocket.addEventListener('close', function (event) {\r\n  console.log(\"Disconnected\")\r\n});\r\n\r\nclass StudentView extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      ticket: [\r\n        { name: \"John Dunaske\", question: \"This is a question\", priority: 0 },\r\n      ],\r\n      activeTAs: [],\r\n      student: true,\r\n      question: \"\",\r\n      questionMaxLength: 100,\r\n      questionMinLength: 20,\r\n      priorityLevels: { 0: \"Homework\", 1: \"Exam\", 2: \"Lab\", 3: \"Lecture\" },\r\n      currentPriority: 0,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n    fetch(\"/getStudents\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(\"\"),\r\n    })\r\n      .then((response) => {\r\n        if (response.ok === false) {\r\n          alert(\"Error: Couldn't connect to server\");\r\n          return \"\";\r\n        } else {\r\n          return response.json();\r\n        }\r\n      })\r\n      .then((data) => {\r\n        if (data === \"\") {\r\n          return;\r\n        }\r\n        var taList = [];\r\n        data.map((student) => {\r\n          if (student.accType === true) {\r\n            taList.push(student);\r\n          }\r\n        });\r\n\r\n        this.setState({ activeTAs: taList });\r\n      });\r\n  };\r\n\r\n  questionOnChanged = (event) => {\r\n    this.setState({ question: event.target.value });\r\n  };\r\n\r\n  priorityOnChanged = (event) => {\r\n    //this is convuluted but i refuse to make a second static object\r\n    var grabPriority = Object.keys(this.state.priorityLevels).filter(\r\n      (level) => {\r\n        return this.state.priorityLevels[level] === event.target.value;\r\n      }\r\n    );\r\n    this.setState({ currentPriority: grabPriority[0] });\r\n  };\r\n\r\n  submitQuestion = () => {\r\n    var ticketData = {\r\n      Name: this.props.name,\r\n      Issue: this.state.question,\r\n      Label: this.state.currentPriority,\r\n      Action: \"Add\",\r\n    };\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"studentViewContainer\">\r\n        <div className=\"studentQueueContainer\">\r\n          <div className=\"student headerText\">Student Queue</div>\r\n          <div className=\"studentQueueWindow\">\r\n            {this.state.ticket.map((ticket) => {\r\n              return (\r\n                <Ticket\r\n                  name={ticket.name}\r\n                  question={ticket.question}\r\n                  admin={false}\r\n                  priority={ticket.priority}\r\n                  priorityLevels={this.state.priorityLevels}\r\n                ></Ticket>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n        <div className=\"rightMasterStudent\">\r\n          <div className=\"welcomeStudent\">{\"Welcome, \" + this.props.name}</div>\r\n          <div className=\"activeTA headerText\">Active TA's</div>\r\n          <div className=\"activeTAWindow\">\r\n            {this.state.activeTAs.map((ta) => {\r\n              return <TATile name={ta.name} special={ta.specialties} />;\r\n            })}\r\n          </div>\r\n          <div className=\"newQuestionContainer\">\r\n            <div className=\"newQuestionHeader\">New Question</div>\r\n            <p className=\"charCount\">\r\n              Min: {this.state.question.length}/{this.state.questionMinLength}{\" \"}\r\n              Max: {this.state.question.length}/{this.state.questionMaxLength}\r\n            </p>\r\n            <textarea\r\n              type=\"text\"\r\n              className=\"newQuestionInput\"\r\n              placeholder=\"Write question here...\"\r\n              maxLength={this.state.questionMaxLength}\r\n              minLength={this.state.questionMinLength}\r\n              onChange={this.questionOnChanged}\r\n            ></textarea>\r\n            <div className=\"studentButtonContainer\">\r\n              <Button\r\n                active={true}\r\n                text=\"Post\"\r\n                buttonType=\"postButton\"\r\n                onclick={this.submitQuestion}\r\n              ></Button>\r\n              <select\r\n                className=\"priorityDropdown\"\r\n                onChange={this.priorityOnChanged}\r\n              >\r\n                {Object.values(this.state.priorityLevels).map((key) => {\r\n                  return (\r\n                    <option className=\"priorityOption\" value={key}>\r\n                      {key}\r\n                    </option>\r\n                  );\r\n                })}\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default StudentView;\r\n"]},"metadata":{},"sourceType":"module"}
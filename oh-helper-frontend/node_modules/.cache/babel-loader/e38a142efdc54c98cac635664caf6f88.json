{"ast":null,"code":"import _classCallCheck from\"C:/Users/J_Dun/OneDrive/Documents/GitHub/OH-Helper/oh-helper-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/J_Dun/OneDrive/Documents/GitHub/OH-Helper/oh-helper-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/J_Dun/OneDrive/Documents/GitHub/OH-Helper/oh-helper-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/J_Dun/OneDrive/Documents/GitHub/OH-Helper/oh-helper-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import Button from\"./Button\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var StudentOption=/*#__PURE__*/function(_React$Component){_inherits(StudentOption,_React$Component);var _super=_createSuper(StudentOption);function StudentOption(props){var _this;_classCallCheck(this,StudentOption);_this=_super.call(this,props);_this.changeRole=function(){//TODO MAKE SECURE (nobody but teacher can access this)\nvar roleBool=!_this.state.selected;var newRole=roleBool?\"teacher\":\"student\";fetch(\"/role\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({email:_this.props.email,role:newRole})}).then(function(response){if(response.ok===false){alert(\"Error: Could not reach server.\");}else{_this.setState({selected:roleBool});}});};_this.state={selected:_this.props.role};return _this;}//Change a students role to teacher, or set a teachers role to student\n_createClass(StudentOption,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:this.state.selected?\"studentOption selectedOption\":\"studentOption\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"leftController\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"studentName\",children:this.props.name}),/*#__PURE__*/_jsx(\"div\",{className:\"studentEmail\",children:this.props.email})]}),/*#__PURE__*/_jsx(\"div\",{className:\"buttonContainer\",children:/*#__PURE__*/_jsx(Button,{active:true,text:this.state.selected?\"Selected\":\"Select\",onclick:this.changeRole,buttonType:this.state.selected?\"selectedButton\":\"selectButton\"})})]});}}]);return StudentOption;}(React.Component);export{StudentOption as default};","map":{"version":3,"sources":["C:/Users/J_Dun/OneDrive/Documents/GitHub/OH-Helper/oh-helper-frontend/src/Components/StudentOption.jsx"],"names":["React","Button","StudentOption","props","changeRole","roleBool","state","selected","newRole","fetch","method","headers","body","JSON","stringify","email","role","then","response","ok","alert","setState","name","Component"],"mappings":"guBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,C,2FAEqBC,CAAAA,a,0HACnB,uBAAYC,KAAZ,CAAmB,+CACjB,uBAAMA,KAAN,EADiB,MAQnBC,UARmB,CAQN,UAAM,CACjB;AACA,GAAIC,CAAAA,QAAQ,CAAG,CAAC,MAAKC,KAAL,CAAWC,QAA3B,CACA,GAAIC,CAAAA,OAAO,CAAGH,QAAQ,CAAG,SAAH,CAAe,SAArC,CACAI,KAAK,CAAC,OAAD,CAAU,CACbC,MAAM,CAAE,MADK,CAEbC,OAAO,CAAE,CAAC,eAAgB,kBAAjB,CAFI,CAGbC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CAACC,KAAK,CAAE,MAAKZ,KAAL,CAAWY,KAAnB,CAA0BC,IAAI,CAAER,OAAhC,CAAf,CAHO,CAAV,CAAL,CAKCS,IALD,CAKM,SAACC,QAAD,CAAc,CAClB,GAAIA,QAAQ,CAACC,EAAT,GAAgB,KAApB,CAA2B,CACzBC,KAAK,CAAC,gCAAD,CAAL,CACD,CAFD,IAEO,CACL,MAAKC,QAAL,CAAc,CAAEd,QAAQ,CAAEF,QAAZ,CAAd,EACD,CACF,CAXD,EAYD,CAxBkB,CAEjB,MAAKC,KAAL,CAAa,CACXC,QAAQ,CAAE,MAAKJ,KAAL,CAAWa,IADV,CAAb,CAFiB,aAKlB,CAED;gDAmBA,iBAAS,CACP,mBACE,aACE,SAAS,CACP,KAAKV,KAAL,CAAWC,QAAX,CAAsB,8BAAtB,CAAuD,eAF3D,wBAKE,aAAK,SAAS,CAAC,gBAAf,wBACE,YAAK,SAAS,CAAC,aAAf,UAA8B,KAAKJ,KAAL,CAAWmB,IAAzC,EADF,cAEE,YAAK,SAAS,CAAC,cAAf,UAA+B,KAAKnB,KAAL,CAAWY,KAA1C,EAFF,GALF,cASE,YAAK,SAAS,CAAC,iBAAf,uBACE,KAAC,MAAD,EACE,MAAM,CAAE,IADV,CAEE,IAAI,CAAE,KAAKT,KAAL,CAAWC,QAAX,CAAsB,UAAtB,CAAmC,QAF3C,CAGE,OAAO,CAAE,KAAKH,UAHhB,CAIE,UAAU,CAAE,KAAKE,KAAL,CAAWC,QAAX,CAAsB,gBAAtB,CAAyC,cAJvD,EADF,EATF,GADF,CAoBD,C,2BAhDwCP,KAAK,CAACuB,S,SAA5BrB,a","sourcesContent":["import React from \"react\";\r\nimport Button from \"./Button\";\r\n\r\nexport default class StudentOption extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      selected: this.props.role,\r\n    };\r\n  }\r\n\r\n  //Change a students role to teacher, or set a teachers role to student\r\n  changeRole = () => {\r\n    //TODO MAKE SECURE (nobody but teacher can access this)\r\n    var roleBool = !this.state.selected;\r\n    var newRole = roleBool ? \"teacher\" : \"student\";\r\n    fetch(\"/role\", {\r\n      method: \"POST\",\r\n      headers: {\"Content-Type\": \"application/json\"},\r\n      body: JSON.stringify({email: this.props.email, role: newRole})\r\n    })\r\n    .then((response) => {\r\n      if (response.ok === false) {\r\n        alert(\"Error: Could not reach server.\")\r\n      } else {\r\n        this.setState({ selected: roleBool });\r\n      }\r\n    })\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        className={\r\n          this.state.selected ? \"studentOption selectedOption\" : \"studentOption\"\r\n        }\r\n      >\r\n        <div className=\"leftController\">\r\n          <div className=\"studentName\">{this.props.name}</div>\r\n          <div className=\"studentEmail\">{this.props.email}</div>\r\n        </div>\r\n        <div className=\"buttonContainer\">\r\n          <Button\r\n            active={true}\r\n            text={this.state.selected ? \"Selected\" : \"Select\"}\r\n            onclick={this.changeRole}\r\n            buttonType={this.state.selected ? \"selectedButton\" : \"selectButton\"}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}
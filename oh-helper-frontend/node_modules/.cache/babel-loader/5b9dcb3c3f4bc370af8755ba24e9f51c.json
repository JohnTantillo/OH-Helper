{"ast":null,"code":"import _classCallCheck from\"/Users/johnduna/Documents/GitHub/OH-Helper/oh-helper-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/johnduna/Documents/GitHub/OH-Helper/oh-helper-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/johnduna/Documents/GitHub/OH-Helper/oh-helper-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/johnduna/Documents/GitHub/OH-Helper/oh-helper-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/johnduna/Documents/GitHub/OH-Helper/oh-helper-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import Button from\"./Button.jsx\";import bcrypt from\"bcryptjs\";import{BrowserRouter as Router,Redirect,Route,Switch,Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LoginPage=/*#__PURE__*/function(_React$Component){_inherits(LoginPage,_React$Component);var _super=_createSuper(LoginPage);function LoginPage(props){var _this;_classCallCheck(this,LoginPage);_this=_super.call(this,props);_this.state={email:\"\",password:\"\"};_this.login=_this.login.bind(_assertThisInitialized(_this));_this.createAccount=_this.createAccount.bind(_assertThisInitialized(_this));return _this;}//TODO: Functions to verify email and password are \"valid\"\n_createClass(LoginPage,[{key:\"login\",value:function login(){var email=this.state.email;bcrypt.hash(this.state.password,10,function(err,hash){var b64hash=btoa(hash);fetch(\"/login\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({email:email,password:b64hash})});});}},{key:\"createAccount\",value:function createAccount(){return/*#__PURE__*/_jsx(Redirect,{to:\"/createAccount\"});}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsxs(\"div\",{className:\"loginPageContainer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"logoText\",children:\"OH-Helper\"}),/*#__PURE__*/_jsx(\"div\",{className:\"loginWindowContainer\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"loginWindow\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"loginHeader\",children:\"Login/Create Account\"}),/*#__PURE__*/_jsx(\"div\",{className:\"lineBreak\"}),/*#__PURE__*/_jsx(\"p\",{className:\"emailInputHeader\",children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",id:\"email\",className:\"emailInput\",placeholder:\"Email...\"}),/*#__PURE__*/_jsx(\"p\",{className:\"passwordInputHeader\",children:\"Password:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",id:\"password\",className:\"passwordInput\",placeholder:\"Password...\"}),/*#__PURE__*/_jsx(Button,{active:true,onclick:function onclick(){return _this2.login();},text:\"Login\",buttonType:\"loginButton\"}),/*#__PURE__*/_jsx(Button,{active:true,onclick:function onclick(){return _this2.createAccount();},text:\"Create Account\",buttonType:\"createButton\"})]})})]});}}]);return LoginPage;}(React.Component);export default LoginPage;","map":{"version":3,"sources":["/Users/johnduna/Documents/GitHub/OH-Helper/oh-helper-frontend/src/Components/LoginPage.jsx"],"names":["React","Button","bcrypt","BrowserRouter","Router","Redirect","Route","Switch","Link","LoginPage","props","state","email","password","login","bind","createAccount","hash","err","b64hash","btoa","fetch","method","headers","body","JSON","stringify","Component"],"mappings":"o4BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,cAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,OACEC,aAAa,GAAIC,CAAAA,MADnB,CAEEC,QAFF,CAGEC,KAHF,CAIEC,MAJF,CAKEC,IALF,KAMO,kBANP,C,2FAQMC,CAAAA,S,kHACJ,mBAAYC,KAAZ,CAAmB,2CACjB,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACXC,KAAK,CAAE,EADI,CAEXC,QAAQ,CAAE,EAFC,CAAb,CAIA,MAAKC,KAAL,CAAa,MAAKA,KAAL,CAAWC,IAAX,+BAAb,CACA,MAAKC,aAAL,CAAqB,MAAKA,aAAL,CAAmBD,IAAnB,+BAArB,CAPiB,aAQlB,CAED;2CAEA,gBAAQ,CACN,GAAIH,CAAAA,KAAK,CAAG,KAAKD,KAAL,CAAWC,KAAvB,CACAV,MAAM,CAACe,IAAP,CAAY,KAAKN,KAAL,CAAWE,QAAvB,CAAiC,EAAjC,CAAqC,SAAUK,GAAV,CAAeD,IAAf,CAAqB,CACxD,GAAIE,CAAAA,OAAO,CAAGC,IAAI,CAACH,IAAD,CAAlB,CACAI,KAAK,CAAC,QAAD,CAAW,CACdC,MAAM,CAAE,MADM,CAEdC,OAAO,CAAE,CAAE,eAAgB,kBAAlB,CAFK,CAGdC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CAAEd,KAAK,CAAEA,KAAT,CAAgBC,QAAQ,CAAEM,OAA1B,CAAf,CAHQ,CAAX,CAAL,CAKD,CAPD,EAQD,C,6BAED,wBAAgB,CACd,mBACE,KAAC,QAAD,EAAU,EAAE,CAAC,gBAAb,EADF,CAGD,C,sBAED,iBAAS,iBACP,mBACE,aAAK,SAAS,CAAC,oBAAf,wBACE,YAAK,SAAS,CAAC,UAAf,uBADF,cAEE,YAAK,SAAS,CAAC,sBAAf,uBACE,aAAK,SAAS,CAAC,aAAf,wBACE,UAAG,SAAS,CAAC,aAAb,kCADF,cAEE,YAAK,SAAS,CAAC,WAAf,EAFF,cAGE,UAAG,SAAS,CAAC,kBAAb,oBAHF,cAIE,cACE,IAAI,CAAC,OADP,CAEE,IAAI,CAAC,OAFP,CAGE,EAAE,CAAC,OAHL,CAIE,SAAS,CAAC,YAJZ,CAKE,WAAW,CAAC,UALd,EAJF,cAWE,UAAG,SAAS,CAAC,qBAAb,uBAXF,cAYE,cACE,IAAI,CAAC,UADP,CAEE,IAAI,CAAC,UAFP,CAGE,EAAE,CAAC,UAHL,CAIE,SAAS,CAAC,eAJZ,CAKE,WAAW,CAAC,aALd,EAZF,cAmBE,KAAC,MAAD,EACE,MAAM,CAAE,IADV,CAEE,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACL,KAAL,EAAN,EAFX,CAGE,IAAI,CAAC,OAHP,CAIE,UAAU,CAAC,aAJb,EAnBF,cAyBE,KAAC,MAAD,EACE,MAAM,CAAE,IADV,CAEE,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACE,aAAL,EAAN,EAFX,CAGE,IAAI,CAAC,gBAHP,CAIE,UAAU,CAAC,cAJb,EAzBF,GADF,EAFF,GADF,CAwCD,C,uBAxEqBhB,KAAK,CAAC2B,S,EA2E9B,cAAelB,CAAAA,SAAf","sourcesContent":["import React from \"react\";\nimport Button from \"./Button.jsx\";\nimport bcrypt from \"bcryptjs\";\nimport {\n  BrowserRouter as Router,\n  Redirect,\n  Route,\n  Switch,\n  Link,\n} from \"react-router-dom\";\n\nclass LoginPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: \"\",\n      password: \"\",\n    };\n    this.login = this.login.bind(this);\n    this.createAccount = this.createAccount.bind(this);\n  }\n\n  //TODO: Functions to verify email and password are \"valid\"\n\n  login() {\n    var email = this.state.email;\n    bcrypt.hash(this.state.password, 10, function (err, hash) {\n      var b64hash = btoa(hash);\n      fetch(\"/login\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ email: email, password: b64hash }),\n      })\n    });\n  }\n\n  createAccount() {\n    return (\n      <Redirect to=\"/createAccount\"></Redirect>\n    )\n  }\n\n  render() {\n    return (\n      <div className=\"loginPageContainer\">\n        <div className=\"logoText\">OH-Helper</div>\n        <div className=\"loginWindowContainer\">\n          <div className=\"loginWindow\">\n            <p className=\"loginHeader\">Login/Create Account</p>\n            <div className=\"lineBreak\"></div>\n            <p className=\"emailInputHeader\">Email:</p>\n            <input\n              type=\"email\"\n              name=\"email\"\n              id=\"email\"\n              className=\"emailInput\"\n              placeholder=\"Email...\"\n            />\n            <p className=\"passwordInputHeader\">Password:</p>\n            <input\n              type=\"password\"\n              name=\"password\"\n              id=\"password\"\n              className=\"passwordInput\"\n              placeholder=\"Password...\"\n            />\n            <Button\n              active={true}\n              onclick={() => this.login()}\n              text=\"Login\"\n              buttonType=\"loginButton\"\n            ></Button>\n            <Button\n              active={true}\n              onclick={() => this.createAccount()}\n              text=\"Create Account\"\n              buttonType=\"createButton\"\n            ></Button>\n            {/* <Link to=\"/createAccount\" text=\"Create Account\" className=\"createButton\"></Link> */}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default LoginPage;\n"]},"metadata":{},"sourceType":"module"}
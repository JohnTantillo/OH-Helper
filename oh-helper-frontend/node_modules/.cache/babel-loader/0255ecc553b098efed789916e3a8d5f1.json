{"ast":null,"code":"import _classCallCheck from\"C:/Users/J_Dun/OneDrive/Documents/GitHub/OH-Helper/oh-helper-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/J_Dun/OneDrive/Documents/GitHub/OH-Helper/oh-helper-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/J_Dun/OneDrive/Documents/GitHub/OH-Helper/oh-helper-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/J_Dun/OneDrive/Documents/GitHub/OH-Helper/oh-helper-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import Button from\"./Button.jsx\";import Ticket from\"./Ticket.jsx\";import RouteButton from\"./RouteButton\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var socket;var TeacherView=/*#__PURE__*/function(_React$Component){_inherits(TeacherView,_React$Component);var _super=_createSuper(TeacherView);function TeacherView(props){var _this;_classCallCheck(this,TeacherView);_this=_super.call(this,props);_this.searchOnChanged=function(event){_this.setState({searchText:event.target.value});};_this.acceptTicket=function(){var ticketData={Name:\"\",Issue:\"\",Label:\"\",Action:\"Remove\"};socket.send(JSON.stringify(ticketData));};_this.updatePriority=function(ticketData){socket.send(JSON.stringify(ticketData));};_this.state={ticket:[],searchResults:[],student:false,searchText:\"\",priorityLevels:{0:\"Homework\",1:\"Exam\",2:\"Lab\",3:\"Lecture\"},currentPriority:0};return _this;}_createClass(TeacherView,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;try{socket=new WebSocket(\"wss://team-placeholder-oh.herokuapp.com/websocket\");//socket = new WebSocket(\"ws://localhost:3000/websocket\");\n}catch(error){alert(\"Error: Cannot establish websocket connection\");}socket.addEventListener(\"open\",function(event){console.log(\"Websocket Connected!\");});socket.addEventListener(\"message\",function(event){var data=JSON.parse(event.data);console.log(data);if(Object.keys(data).includes(\"Queue\")){_this2.setState({ticket:data[\"Queue\"]});}else{_this2.setState({activeTAs:data[\"activeTAs\"]});}_this2.forceUpdate();});socket.addEventListener(\"close\",function(event){console.log(\"Websocket Disconnected!\");});}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/_jsxs(\"div\",{className:\"teacherViewContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"teacherQueueContainer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"teacher headerText\",children:\"Student Queue\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"teacherQueueWindow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"ticketStorage\",children:this.state.ticket.map(function(ticket){return/*#__PURE__*/_jsx(Ticket,{name:ticket.Name,question:ticket.Message,priority:ticket.Priority,priorityLevels:_this3.state.priorityLevels,acceptFunction:_this3.acceptTicket,updateFunction:_this3.updatePriority,admin:true});})}),/*#__PURE__*/_jsx(\"div\",{className:\"acceptButtonContainer\",children:/*#__PURE__*/_jsx(Button,{active:true,text:\"Accept Next\",onclick:this.acceptTicket,buttonType:\"acceptButton\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"rightMaster\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"accountNameTeacher\",children:[\"Welcome, \"+this.props.name,/*#__PURE__*/_jsx(Button,{active:true,text:\"Logout\",buttonType:\"logoutButton\",onclick:this.props.logout})]}),/*#__PURE__*/_jsx(\"div\",{className:\"lineBreak teacherLine\"}),/*#__PURE__*/_jsx(\"div\",{className:\"studentSearchHeader\",children:\"Student Search:\"}),/*#__PURE__*/_jsx(\"input\",{className:\"studentSearchBar\",type:\"text\",placeholder:\"Search...\",onChange:this.searchOnChanged}),/*#__PURE__*/_jsx(Button,{buttonType:\"search\",active:true,text:\"Search\"}),/*#__PURE__*/_jsx(\"div\",{className:\"resultsContainer\",children:this.state.searchResults.map(function(result){return/*#__PURE__*/_jsx(\"p\",{children:\"Test\"});})}),/*#__PURE__*/_jsx(RouteButton,{active:true,route:\"/taSelector\",onclick:function onclick(){return true;},text:\"Teaching Assistant Select\",buttonType:\"taButton\"})]})]});}}]);return TeacherView;}(React.Component);export default TeacherView;","map":{"version":3,"sources":["C:/Users/J_Dun/OneDrive/Documents/GitHub/OH-Helper/oh-helper-frontend/src/Components/TeacherView.jsx"],"names":["React","Button","Ticket","RouteButton","socket","TeacherView","props","searchOnChanged","event","setState","searchText","target","value","acceptTicket","ticketData","Name","Issue","Label","Action","send","JSON","stringify","updatePriority","state","ticket","searchResults","student","priorityLevels","currentPriority","WebSocket","error","alert","addEventListener","console","log","data","parse","Object","keys","includes","activeTAs","forceUpdate","map","Message","Priority","name","logout","result","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport Button from \"./Button.jsx\";\r\nimport Ticket from \"./Ticket.jsx\";\r\nimport RouteButton from \"./RouteButton\";\r\n\r\nvar socket;\r\n\r\nclass TeacherView extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      ticket: [],\r\n      searchResults: [],\r\n      student: false,\r\n      searchText: \"\",\r\n      priorityLevels: { 0: \"Homework\", 1: \"Exam\", 2: \"Lab\", 3: \"Lecture\" },\r\n      currentPriority: 0,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    try {\r\n      socket = new WebSocket(\"wss://team-placeholder-oh.herokuapp.com/websocket\");\r\n      //socket = new WebSocket(\"ws://localhost:3000/websocket\");\r\n    } catch (error) {\r\n      alert(\"Error: Cannot establish websocket connection\");\r\n    }\r\n\r\n    socket.addEventListener(\"open\", (event) => {\r\n      console.log(\"Websocket Connected!\");\r\n    });\r\n\r\n    socket.addEventListener(\"message\", (event) => {\r\n      var data = JSON.parse(event.data);\r\n      console.log(data);\r\n      if (Object.keys(data).includes(\"Queue\")) {\r\n        this.setState({ ticket: data[\"Queue\"] });\r\n      } else {\r\n        this.setState({ activeTAs: data[\"activeTAs\"] });\r\n      }\r\n      this.forceUpdate()\r\n    });\r\n\r\n    socket.addEventListener(\"close\", (event) => {\r\n      console.log(\"Websocket Disconnected!\");\r\n    });\r\n  }\r\n\r\n  searchOnChanged = (event) => {\r\n    this.setState({ searchText: event.target.value });\r\n  };\r\n\r\n  acceptTicket = () => {\r\n    var ticketData = {\r\n      Name: \"\",\r\n      Issue: \"\",\r\n      Label: \"\",\r\n      Action: \"Remove\",\r\n    };\r\n    socket.send(JSON.stringify(ticketData));\r\n  };\r\n\r\n  updatePriority = (ticketData) => {\r\n    socket.send(JSON.stringify(ticketData));\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"teacherViewContainer\">\r\n        <div className=\"teacherQueueContainer\">\r\n          <div className=\"teacher headerText\">Student Queue</div>\r\n          <div className=\"teacherQueueWindow\">\r\n            <div className=\"ticketStorage\">\r\n              {this.state.ticket.map((ticket) => {\r\n                return (\r\n                  <Ticket\r\n                    name={ticket.Name}\r\n                    question={ticket.Message}\r\n                    priority={ticket.Priority}\r\n                    priorityLevels={this.state.priorityLevels}\r\n                    acceptFunction={this.acceptTicket}\r\n                    updateFunction={this.updatePriority}\r\n                    admin={true}\r\n                  />\r\n                );\r\n              })}\r\n            </div>\r\n            <div className=\"acceptButtonContainer\">\r\n              <Button\r\n                active={true}\r\n                text=\"Accept Next\"\r\n                onclick={this.acceptTicket}\r\n                buttonType=\"acceptButton\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"rightMaster\">\r\n          <div className=\"accountNameTeacher\">\r\n            {\"Welcome, \" + this.props.name}\r\n            <Button active={true} text=\"Logout\" buttonType=\"logoutButton\" onclick={this.props.logout}></Button>\r\n          </div>\r\n          <div className=\"lineBreak teacherLine\"></div>\r\n          <div className=\"studentSearchHeader\">Student Search:</div>\r\n          <input\r\n            className=\"studentSearchBar\"\r\n            type=\"text\"\r\n            placeholder=\"Search...\"\r\n            onChange={this.searchOnChanged}\r\n          ></input>\r\n          <Button buttonType=\"search\" active={true} text=\"Search\"></Button>\r\n          <div className=\"resultsContainer\">\r\n            {this.state.searchResults.map((result) => {\r\n              return <p>Test</p>;\r\n            })}\r\n          </div>\r\n          <RouteButton\r\n            active={true}\r\n            route=\"/taSelector\"\r\n            onclick={() => {\r\n              return true;\r\n            }}\r\n            text=\"Teaching Assistant Select\"\r\n            buttonType=\"taButton\"\r\n          ></RouteButton>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TeacherView;\r\n"]},"metadata":{},"sourceType":"module"}
(this["webpackJsonpoh-helper"]=this["webpackJsonpoh-helper"]||[]).push([[0],{134:function(e,t,n){},146:function(e,t){},148:function(e,t){},158:function(e,t){},160:function(e,t){},185:function(e,t){},187:function(e,t){},188:function(e,t){},193:function(e,t){},195:function(e,t){},201:function(e,t){},203:function(e,t){},222:function(e,t){},234:function(e,t){},237:function(e,t){},240:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),i=n(127),c=n.n(i),r=(n(134),n(4)),o=n(5),l=n(7),u=n(6),p=(n(46),n(0)),d=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return Object(p.jsx)("div",{className:this.props.active?"aButton "+this.props.buttonType:"iButton "+this.props.buttonType,onClick:this.props.active?function(){return e.props.onclick()}:function(){},children:Object(p.jsx)("span",{children:this.props.text})})}}]),n}(a.a.Component),h=d;d.defaultProps={active:!1,text:"",buttonType:""};var j=n(8);function m(e){var t=Object(j.f)();return Object(p.jsx)("div",{className:e.active?"aButton "+e.buttonType:"iButton "+e.buttonType,onClick:e.active?function(){e.onclick()?t.push(e.route):alert("Something went wrong.")}:function(){},children:Object(p.jsx)("span",{children:e.text})})}n(72);var b,O,v=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this,e)).login=function(){var e=s.state.email,t=s.state.password;return fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,salt:""})}).then((function(e){return e.ok?e.json():alert("Error connecting to server")})).then((function(e){""!==e?"teacher"===e.AccType?s.props.loginFlag(!0,!1,e.Username):"student"===e.AccType?s.props.loginFlag(!0,!0,e.Username):"instructor"===e.AccType&&s.props.loginFlag(!0,!1,e.Username):s.props.loginFlag(!1,!1,"")})),!0},s.emailOnChange=function(e){s.setState({email:e.target.value})},s.passwordOnChange=function(e){s.setState({password:e.target.value})},s.state={email:"",password:""},s}return Object(o.a)(n,[{key:"render",value:function(){return Object(p.jsxs)("div",{className:"loginPageContainer",children:[Object(p.jsx)("div",{className:"logoText",children:"OH-Helper"}),Object(p.jsx)("div",{className:"loginWindowContainer",children:Object(p.jsxs)("div",{className:"loginWindow",children:[Object(p.jsx)("p",{className:"loginHeader",children:"Login/Create Account"}),Object(p.jsx)("div",{className:"lineBreak"}),Object(p.jsx)("p",{className:"email inputHeader",children:"Email:"}),Object(p.jsx)("input",{type:"email",name:"email",id:"email",className:"input",placeholder:"Email...",onChange:this.emailOnChange}),Object(p.jsx)("p",{className:"password inputHeader",children:"Password:"}),Object(p.jsx)("input",{type:"password",name:"password",id:"password",className:"input",placeholder:"Password...",onChange:this.passwordOnChange}),Object(p.jsx)(m,{active:!0,route:"/forgotPassword",onclick:function(){return!0},text:"Forgot Password?",buttonType:"forgotPasswordLink"}),Object(p.jsx)(h,{active:!0,onclick:this.login,text:"Login",buttonType:"loginButton"}),Object(p.jsx)(m,{active:!0,route:"/createAccount",onclick:function(){return!0},text:"Create Account",buttonType:"createButton"})]})})]})}}]),n}(a.a.Component),x=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(p.jsxs)("div",{className:this.props.last?this.props.active?this.props.name+" dropoption active last":this.props.name+" dropoption inactive last":this.props.first?this.props.active?this.props.name+" dropoption active first":this.props.name+" dropoption inactive first":this.props.active?this.props.name+" dropoption active":this.props.name+" dropoption inactive",onClick:this.props.onClick,children:[this.props.text,this.props.last?null:Object(p.jsx)("div",{className:"dropdownLines"})]})}}]),n}(a.a.Component),f=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return Object(p.jsx)("div",{className:this.props.active?this.props.name+" dropdown active":this.props.name+" dropdown inactive",children:this.props.options.map((function(t){return t===e.props.options.at(-1)?Object(p.jsx)(x,{name:t.name,text:t.text,active:t.active,onClick:t.onClick,last:!0,first:!1},t.name):t===e.props.options.at(0)?Object(p.jsx)(x,{name:t.name,text:t.text,active:t.active,onClick:t.onClick,last:!1,first:!0},t.name):Object(p.jsx)(x,{name:t.name,text:t.text,active:t.active,onClick:t.onClick,last:!1,first:!1},t.name)}))})}}]),n}(a.a.Component),g=(a.a.Component,function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){return Object(r.a)(this,n),t.call(this,e)}return Object(o.a)(n,[{key:"render",value:function(){return Object(p.jsx)("div",{className:this.props.priorityObj[this.props.priority].toLowerCase()+" tag",children:this.props.priorityObj[this.props.priority]})}}]),n}(a.a.Component)),y=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this,e)).changePriority=function(e){var t=Object.keys(s.props.priorityLevels).filter((function(t){return s.props.priorityLevels[t]===e.target.value}));s.setState({newPriority:t[0]})},s.setPriority=function(){var e={Name:s.props.name,Issue:s.props.question,Label:s.state.newPriority,Action:"Update"};s.props.updateFunction(e)},s.removeStudent=function(){var e={Name:s.props.name,Issue:s.props.question,Label:s.props.priority,Action:"Student Remove"};s.props.updateFunction(e)},s.state={teacherOptions:!!s.props.admin,currentPriority:s.props.priority,newPriority:0},s}return Object(o.a)(n,[{key:"render",value:function(){return Object(p.jsxs)("div",{className:"questionWindow",children:[Object(p.jsxs)("div",{className:"leftContainer",children:[Object(p.jsx)("div",{className:"nameHolder",children:this.props.name}),Object(p.jsx)("div",{className:"tagContainer",children:Object(p.jsx)(g,{priority:this.state.currentPriority,priorityObj:this.props.priorityLevels})}),this.props.admin?Object(p.jsx)("select",{className:"priorityChange",onChange:this.changePriority,children:Object.values(this.props.priorityLevels).map((function(e){return Object(p.jsx)("option",{className:"changePriorityOption",value:e,children:e})}))}):Object(p.jsx)("div",{}),this.props.admin?Object(p.jsx)(h,{active:!0,text:"Update",buttonType:"changePriorityButton",onclick:this.setPriority}):Object(p.jsx)("div",{}),this.props.admin?Object(p.jsx)(h,{active:!0,text:"Remove",buttonType:"removeButton",onclick:this.removeStudent}):Object(p.jsx)("div",{})]}),Object(p.jsx)("div",{className:"questionHolder",children:this.props.question})]})}}]),n}(a.a.Component),N=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this,e)).sendPing=function(){b.send(JSON.stringify({Name:"",Issue:"",Label:"",Action:"Ping"}))},s.searchOnChanged=function(e){s.setState({searchText:e.target.value})},s.acceptTicket=function(){b.send(JSON.stringify({Name:"",Issue:"",Label:"",Action:"Remove"}))},s.updatePriority=function(e){b.send(JSON.stringify(e))},s.state={ticket:[],searchResults:[],student:!1,searchText:"",priorityLevels:{0:"Homework",1:"Exam",2:"Lab",3:"Lecture"},currentPriority:0},s}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;try{b=new WebSocket("wss://team-placeholder-oh.herokuapp.com/websocket")}catch(t){alert("Error: Cannot establish websocket connection")}b.addEventListener("open",(function(t){console.log("Websocket Connected!"),setTimeout(e.sendPing,5e3)})),b.addEventListener("message",(function(t){e.setState({ticket:[]});var n=JSON.parse(t.data);console.log(n),e.setState({ticket:n.Queue})})),b.addEventListener("close",(function(e){console.log("Websocket Disconnected!")}))}},{key:"render",value:function(){var e=this;return Object(p.jsxs)("div",{className:"teacherViewContainer",children:[Object(p.jsxs)("div",{className:"teacherQueueContainer",children:[Object(p.jsx)("div",{className:"teacher headerText",children:"Student Queue"}),Object(p.jsxs)("div",{className:"teacherQueueWindow",children:[Object(p.jsx)("div",{className:"ticketStorage",children:this.state.ticket.map((function(t){return Object(p.jsx)(y,{name:t.Name,question:t.Message,priority:t.Priority,priorityLevels:e.state.priorityLevels,acceptFunction:e.acceptTicket,updateFunction:e.updatePriority,admin:!0})}))}),Object(p.jsx)("div",{className:"acceptButtonContainer",children:Object(p.jsx)(h,{active:!0,text:"Accept Next",onclick:this.acceptTicket,buttonType:"acceptButton"})})]})]}),Object(p.jsxs)("div",{className:"rightMaster",children:[Object(p.jsxs)("div",{className:"accountNameTeacher",children:["Welcome, "+this.props.name,Object(p.jsx)(h,{active:!0,text:"Logout",buttonType:"logoutButton",onclick:this.props.logout})]}),Object(p.jsx)("div",{className:"lineBreak teacherLine"}),Object(p.jsx)("div",{className:"studentSearchHeader",children:"Student Search:"}),Object(p.jsx)("input",{className:"studentSearchBar",type:"text",placeholder:"Search...",onChange:this.searchOnChanged}),Object(p.jsx)(h,{buttonType:"search",active:!0,text:"Search"}),Object(p.jsx)("div",{className:"resultsContainer",children:this.state.searchResults.map((function(e){return Object(p.jsx)("p",{children:"Test"})}))}),Object(p.jsx)(m,{active:!0,route:"/taSelector",onclick:function(){return!0},text:"Teaching Assistant Select",buttonType:"taButton"})]})]})}}]),n}(a.a.Component),C=n.p+"static/media/blankProfilePhoto.c3f94521.png",w=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(p.jsxs)("div",{className:"taWindow",children:[Object(p.jsx)("img",{className:"taImage",src:this.props.img,alt:C}),Object(p.jsxs)("div",{className:"rightSide",children:[Object(p.jsx)("div",{className:"taName",children:this.props.name}),Object(p.jsx)("div",{className:"lineBreak"})]})]})}}]),n}(a.a.Component);w.defaultProps={img:C};var k=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this,e)).sendPing=function(){O.send(JSON.stringify({Name:"",Issue:"",Label:"",Action:"Ping"}))},s.questionOnChanged=function(e){s.setState({question:e.target.value})},s.priorityOnChanged=function(e){var t=Object.keys(s.state.priorityLevels).filter((function(t){return s.state.priorityLevels[t]===e.target.value}));s.setState({currentPriority:t[0]})},s.submitQuestion=function(){var e={Name:s.props.name,Issue:s.state.question,Label:s.state.currentPriority,Action:"Add"};O.send(JSON.stringify(e))},s.state={ticket:[],activeTAs:[],student:!0,question:"",questionMaxLength:100,questionMinLength:20,priorityLevels:{0:"Homework",1:"Exam",2:"Lab",3:"Lecture"},currentPriority:0},s}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;try{O=new WebSocket("wss://team-placeholder-oh.herokuapp.com/websocket")}catch(t){alert("Error: Cannot establish websocket connection")}O.addEventListener("open",(function(t){console.log("Websocket Connected!"),setTimeout(e.sendPing,5e3)})),O.addEventListener("message",(function(t){e.setState({ticket:[]});var n=JSON.parse(t.data);e.setState({ticket:n.Queue})})),O.addEventListener("close",(function(e){console.log("Websocket Disconnected!")})),fetch("/getStudents",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify("")}).then((function(e){return!1===e.ok?(alert("Error: Couldn't connect to server"),""):e.json()})).then((function(t){if(""!==t){var n=[];t.map((function(e){!0===e.accType&&n.push(e)})),e.setState({activeTAs:n})}}))}},{key:"render",value:function(){var e=this;return Object(p.jsxs)("div",{className:"studentViewContainer",children:[Object(p.jsxs)("div",{className:"studentQueueContainer",children:[Object(p.jsx)("div",{className:"student headerText",children:"Student Queue"}),Object(p.jsx)("div",{className:"studentQueueWindow",children:this.state.ticket.map((function(t){return Object(p.jsx)(y,{name:t.Name,question:t.Message,priority:t.Priority,priorityLevels:e.state.priorityLevels,admin:!1})}))})]}),Object(p.jsxs)("div",{className:"rightMasterStudent",children:[Object(p.jsxs)("div",{className:"welcomeStudent",children:["Welcome, "+this.props.name,Object(p.jsx)(h,{active:!0,text:"Logout",buttonType:"logoutButtonStudent",onclick:this.props.logout})]}),Object(p.jsx)("div",{className:"activeTA headerText",children:"Active TA's"}),Object(p.jsx)("div",{className:"activeTAWindow",children:this.state.activeTAs.map((function(e){return Object(p.jsx)(w,{name:e.name,special:e.specialties})}))}),Object(p.jsxs)("div",{className:"newQuestionContainer",children:[Object(p.jsx)("div",{className:"newQuestionHeader",children:"New Question"}),Object(p.jsxs)("p",{className:"charCount",children:["Min: ",this.state.question.length,"/",this.state.questionMinLength," ","Max: ",this.state.question.length,"/",this.state.questionMaxLength]}),Object(p.jsx)("textarea",{type:"text",className:"newQuestionInput",placeholder:"Write question here...",maxLength:this.state.questionMaxLength,minLength:this.state.questionMinLength,onChange:this.questionOnChanged}),Object(p.jsxs)("div",{className:"studentButtonContainer",children:[Object(p.jsx)(h,{active:!0,text:"Post",buttonType:"postButton",onclick:this.submitQuestion}),Object(p.jsx)("select",{className:"priorityDropdown",onChange:this.priorityOnChanged,children:Object.values(this.state.priorityLevels).map((function(e){return Object(p.jsx)("option",{className:"priorityOption",value:e,children:e})}))})]})]})]})]})}}]),n}(a.a.Component),P=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this,e)).createAccount=function(){var e=s.state.name,t=s.state.email,n=s.state.ubit,a=s.state.confirmPass,i=s.state.password,c=s.state.accType;return a===i&&(fetch("/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:i,name:e,ubit:n,salt:"",accType:c})}).then((function(e){return e.ok?{}:alert("Error connecting to server")})),!0)},s.nameOnChange=function(e){s.setState({name:e.target.value})},s.emailOnChange=function(e){s.setState({email:e.target.value})},s.passwordOnChange=function(e){s.setState({password:e.target.value})},s.confirmPassOnChange=function(e){s.setState({confirmPass:e.target.value})},s.ubitOnChange=function(e){s.setState({ubit:e.target.value})},s.accTypeOnChange=function(e){s.setState({accType:e.target.value})},s.state={name:"",email:"",password:"",confirmPass:"",ubit:"",accType:"student"},s}return Object(o.a)(n,[{key:"render",value:function(){return Object(p.jsxs)("div",{className:"createPageContainer",children:[Object(p.jsx)("div",{className:"logoText",children:"OH-Helper"}),Object(p.jsx)("div",{className:"createWindowContainer",children:Object(p.jsxs)("div",{className:"createWindow",children:[Object(p.jsx)("p",{className:"createHeader",children:"Create Account"}),Object(p.jsx)("div",{className:"lineBreak"}),Object(p.jsx)("p",{className:"name inputHeader",children:"Full Name:"}),Object(p.jsx)("input",{type:"text",className:"name input",placeholder:"Full Name...",onChange:this.nameOnChange}),Object(p.jsx)("p",{className:"email inputHeader",children:"Email:"}),Object(p.jsx)("input",{type:"text",className:"email input",placeholder:"Email...",onChange:this.emailOnChange}),Object(p.jsx)("p",{className:"password inputHeader",children:"Password:"}),Object(p.jsx)("input",{type:"password",className:"password input",placeholder:"Password...",onChange:this.passwordOnChange}),Object(p.jsx)("p",{className:"cPassword inputHeader",children:"Confirm Password:"}),Object(p.jsx)("input",{type:"password",className:"cPassword input",placeholder:"Confirm Password...",onChange:this.confirmPassOnChange}),Object(p.jsx)("p",{className:"ubit inputHeader",children:"UBIT:"}),Object(p.jsx)("input",{type:"text",className:"ubit input",placeholder:"UBIT...",onChange:this.ubitOnChange}),Object(p.jsx)("p",{className:"accType inputHeader",children:"Account Type:"}),Object(p.jsxs)("select",{className:"accountType dropdown",onChange:this.accTypeOnChange,children:[Object(p.jsx)("option",{value:"student",children:" Student"}),Object(p.jsx)("option",{value:"teacher",children:"Teacher"})]}),Object(p.jsx)(m,{active:!0,route:"/",onclick:this.createAccount,text:"Create Account",buttonType:"createButton"})]})})]})}}]),n}(a.a.Component),S=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this,e)).changeRole=function(){var e=!s.state.selected,t=e?"teacher":"student";fetch("/role",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s.props.email,role:t})}).then((function(t){!1===t.ok?alert("Error: Could not reach server."):s.setState({selected:e})}))},s.state={selected:s.props.role},s}return Object(o.a)(n,[{key:"render",value:function(){return Object(p.jsxs)("div",{className:this.state.selected?"studentOption selectedOption":"studentOption",children:[Object(p.jsxs)("div",{className:"leftController",children:[Object(p.jsx)("div",{className:"studentName",children:this.props.name}),Object(p.jsx)("div",{className:"studentEmail",children:this.props.email})]}),Object(p.jsx)("div",{className:"buttonContainer",children:Object(p.jsx)(h,{active:!0,text:this.state.selected?"Selected":"Select",onclick:this.changeRole,buttonType:this.state.selected?"selectedButton":"selectButton"})})]})}}]),n}(a.a.Component),T=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this,e)).componentDidMount=function(){fetch("/getStudents",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify("")}).then((function(e){return!1===e.ok?(alert("Error: Couldn't connect to server"),""):e.json()})).then((function(e){var t=""!==e?e:[];s.setState({studentOptions:t})}))},s.state={studentOptions:[]},s}return Object(o.a)(n,[{key:"render",value:function(){return Object(p.jsxs)("div",{className:"pageContainer",children:[Object(p.jsx)(m,{active:!0,text:"Back",onclick:function(){return!0},route:"/",buttonType:"backButton"}),Object(p.jsx)("div",{className:"outerShell",children:Object(p.jsx)("div",{className:"selectContainer",children:this.state.studentOptions.map((function(e){return Object(p.jsx)(S,{name:e.name,email:e.email,role:e.accType},e.name)}))})})]})}}]),n}(a.a.Component),L=n(38),A=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this,e)).updateEmail=function(e){s.setState({email:e.target.value})},s.updatePass=function(e){s.setState({newPass:e.target.value})},s.updateConfirmPass=function(e){s.setState({confirmPass:e.target.value})},s.handleUpdatePass=function(){var e={email:s.state.email,new_password:s.state.newPass};return fetch("/password_reset",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){!1===e.ok&&alert("Error connecting to server.")})),!0},s.state={email:"",newPass:"",confirmPass:""},s}return Object(o.a)(n,[{key:"render",value:function(){return Object(p.jsx)("div",{className:"pageContainer",children:Object(p.jsx)("div",{className:"passWindowContainer",children:Object(p.jsxs)("div",{className:"passWindow",children:[Object(p.jsx)("p",{className:"resetLabel",children:"Password Reset"}),Object(p.jsx)("div",{className:"lineBreak"}),Object(p.jsx)("p",{className:"emailLabel",children:"Account Email:"}),Object(p.jsx)("input",{type:"email",className:"emailInput",placeholder:"Account Email...",onChange:this.updateEmail}),Object(p.jsx)("p",{className:"passwordLabel",children:"New Password:"}),Object(p.jsx)("input",{type:"password",className:"passwordInput",placeholder:"New Password...",onChange:this.updatePass}),Object(p.jsx)("p",{className:"confirmPasswordLabel",children:"Confirm New Password:"}),Object(p.jsx)("input",{type:"password",className:"confirmPasswordInput",placeholder:"Confirm Password...",onChange:this.updateConfirmPass}),Object(p.jsx)(m,{active:!0,text:"Reset",route:"/",buttonType:"resetButton",onclick:this.handleUpdatePass})]})})})}}]),n}(a.a.Component),B=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this,e)).setLoginFlag=function(e,t,n){s.setState({loggedIn:e,student:t,name:n})},s.logout=function(){s.setState({loggedIn:!1,student:!0,name:""})},s.state={loggedIn:!1,student:!0,name:""},s}return Object(o.a)(n,[{key:"render",value:function(){return Object(p.jsx)(L.a,{basename:"",children:Object(p.jsx)("div",{className:"App",children:Object(p.jsx)("div",{className:this.state.loggedIn?"mContent":"mContentOut",children:Object(p.jsxs)(j.c,{children:[Object(p.jsx)(j.a,{path:"/createAccount",children:Object(p.jsx)(P,{})}),Object(p.jsx)(j.a,{path:"/taSelector",children:Object(p.jsx)(T,{})}),Object(p.jsx)(j.a,{path:"/forgotPassword",children:Object(p.jsx)(A,{})}),Object(p.jsx)(j.a,{path:"/",children:this.state.loggedIn?this.state.student?Object(p.jsx)(k,{name:this.state.name,logout:this.logout}):Object(p.jsx)(N,{name:this.state.name,logout:this.logout}):Object(p.jsx)(v,{loginFlag:this.setLoginFlag})})]})})})})}}]),n}(a.a.Component),E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,241)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),s(e),a(e),i(e),c(e)}))};c.a.render(Object(p.jsx)(L.a,{children:Object(p.jsx)(B,{})}),document.getElementById("root")),E()},46:function(e,t,n){}},[[240,1,2]]]);
//# sourceMappingURL=main.f0d6679a.chunk.js.map